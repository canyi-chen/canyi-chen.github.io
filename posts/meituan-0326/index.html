<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/katex/katex.min.css"> <link rel=stylesheet  href="/libs/highlight/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/basic.css"> <link rel=stylesheet  href="/css/bibbase.css"> <link rel=icon  href="/assets/favicon.png"> <title>美团笔试记录（3月26日）</title> <header> <div class=blog-name ><a href="/">Canyi Chen's Homepage</a></div> <!-- <div class=site-header-container > <div class=title-container > <a class=site-title  href="/"> Canyi Chen </a> </div> </div> --> <nav> <ul> <li><a href="/">Home</a> <li><a href="#curriculum_vitae">CV</a> <li><a href="#publications">Publications</a> <li><a href="#contact">Contact</a> </ul> <img src="/assets/hamburger.svg" id=menu-icon > </nav> </header> <div class=franklin-content ><h1 id="美团笔试记录3月26日"><a href="#美团笔试记录3月26日" class=header-anchor >美团笔试记录（3月26日）</a></h1> <h2 id="算法题目"><a href="#算法题目" class=header-anchor >算法题目</a></h2> <ol> <li><p>给出一个字符串，可以重新排列顺序，问所有的子串中abccca最多出现几次。</p> </ol> <pre><code class="python hljs">strs = <span class=hljs-built_in >input</span>()
dic = {
    <span class=hljs-string >&#x27;a&#x27;</span>: <span class=hljs-number >0</span>,
    <span class=hljs-string >&#x27;b&#x27;</span>: <span class=hljs-number >0</span>,
    <span class=hljs-string >&#x27;c&#x27;</span>: <span class=hljs-number >0</span>
}
<span class=hljs-keyword >for</span> s <span class=hljs-keyword >in</span> strs:
    <span class=hljs-keyword >if</span> s <span class=hljs-keyword >in</span> dic:
        dic[s] += <span class=hljs-number >1</span>
nums = <span class=hljs-built_in >list</span>(dic.values())

<span class=hljs-built_in >print</span>(<span class=hljs-built_in >min</span>((nums[<span class=hljs-number >0</span>] - <span class=hljs-number >1</span>), nums[<span class=hljs-number >1</span>], <span class=hljs-built_in >int</span>(nums[<span class=hljs-number >2</span>]/<span class=hljs-number >3</span>)))</code></pre> <ol start=2 > <li><p>给出一个递增数组，要求找到一个点，使这个点到1号点和n号店的距离之差最小。</p> </ol> <pre><code class="python hljs">n = <span class=hljs-built_in >int</span>(<span class=hljs-built_in >input</span>())
nums = <span class=hljs-built_in >list</span>(<span class=hljs-built_in >map</span>(<span class=hljs-built_in >int</span>, <span class=hljs-built_in >input</span>().split()))

median = (nums[<span class=hljs-number >0</span>]/<span class=hljs-number >2</span> + nums[n - <span class=hljs-number >1</span>]/<span class=hljs-number >2</span>)

tmp = [<span class=hljs-number >0</span>]*n

<span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-built_in >range</span>(n):
    tmp[i] = <span class=hljs-built_in >abs</span>(nums[i] - median)

r = <span class=hljs-built_in >min</span>(tmp)
<span class=hljs-built_in >print</span>(<span class=hljs-built_in >int</span>(<span class=hljs-number >2</span>*r))</code></pre> <ol start=3 > <li><p>给出n个数，要求从中选任意个数，使得他们的和最大，且为7的倍数。</p> </ol> <p>思路：dp&#91;i&#93;&#91;j&#93;, 记录前i个数的和对7取模为j的和的最大值即可。</p> <pre><code class="python hljs">n = <span class=hljs-built_in >int</span>(<span class=hljs-built_in >input</span>())
nums = <span class=hljs-built_in >list</span>(<span class=hljs-built_in >map</span>(<span class=hljs-built_in >int</span>, <span class=hljs-built_in >input</span>().split()))
MAX = <span class=hljs-built_in >int</span>(<span class=hljs-number >1e6</span>+<span class=hljs-number >7</span>)

<span class=hljs-comment ># create dp</span>
dp = [[-<span class=hljs-built_in >float</span>(<span class=hljs-string >&quot;inf&quot;</span>)]*<span class=hljs-number >7</span> <span class=hljs-keyword >for</span> _ <span class=hljs-keyword >in</span> <span class=hljs-built_in >range</span>(MAX)]
dp[<span class=hljs-number >0</span>][<span class=hljs-number >0</span>] = <span class=hljs-number >0</span>;
<span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-built_in >range</span>(<span class=hljs-number >1</span>, n + <span class=hljs-number >1</span>):
    <span class=hljs-keyword >for</span> j <span class=hljs-keyword >in</span> <span class=hljs-built_in >range</span>(<span class=hljs-number >7</span>):
        <span class=hljs-comment ># dp[i][j] is at least as large as dp[i - 1][j], that is, we can simply ignore the last number </span>
        dp[i][j] = <span class=hljs-built_in >max</span>(dp[i][j], dp[i - <span class=hljs-number >1</span>][j])
        dp[i][j] = <span class=hljs-built_in >max</span>(dp[i][j], dp[i - <span class=hljs-number >1</span>][(j - nums[i - <span class=hljs-number >1</span>]) % <span class=hljs-number >7</span>] + nums[i - <span class=hljs-number >1</span>])
        <span class=hljs-built_in >print</span>((i,j,dp[i][j]))

<span class=hljs-built_in >print</span>(dp[n][<span class=hljs-number >0</span>])</code></pre> <pre><code class="cpp hljs"><span class=hljs-meta >#<span class=hljs-keyword >include</span><span class=hljs-string >&lt;bits/stdc++.h&gt;</span></span>
<span class=hljs-keyword >using</span> <span class=hljs-keyword >namespace</span> std;
<span class=hljs-keyword >typedef</span> <span class=hljs-type >long</span> <span class=hljs-type >long</span> ll;
<span class=hljs-type >const</span> <span class=hljs-type >int</span> maxn= <span class=hljs-number >1e6</span><span class=hljs-number >+7</span> ;
<span class=hljs-type >const</span> <span class=hljs-type >int</span> inf = <span class=hljs-number >0x3f3f3f3f</span>;
<span class=hljs-type >int</span> n , a[maxn];
<span class=hljs-type >int</span> dp[maxn][<span class=hljs-number >10</span>];
<span class=hljs-function ><span class=hljs-type >int</span> <span class=hljs-title >main</span><span class=hljs-params >()</span></span>{
    <span class=hljs-built_in >scanf</span>(<span class=hljs-string >&quot;%d&quot;</span>,&amp;n);
    <span class=hljs-keyword >for</span>(<span class=hljs-type >int</span> i = <span class=hljs-number >1</span>; i &lt;= n; i ++){
        <span class=hljs-built_in >scanf</span>(<span class=hljs-string >&quot;%d&quot;</span>,&amp;a[i]);
    }
    <span class=hljs-built_in >memset</span>(dp , -inf , <span class=hljs-built_in >sizeof</span>(dp));
    dp[<span class=hljs-number >0</span>][<span class=hljs-number >0</span>] = <span class=hljs-number >0</span>;
    <span class=hljs-keyword >for</span>(<span class=hljs-type >int</span> i = <span class=hljs-number >1</span>; i &lt;= n; i ++){
        <span class=hljs-keyword >for</span>(<span class=hljs-type >int</span> j = <span class=hljs-number >0</span>; j &lt; <span class=hljs-number >7</span>; j ++){
            dp[i][j] = <span class=hljs-built_in >max</span>(dp[i][j] , dp[i - <span class=hljs-number >1</span>][j]);
            dp[i][j] = <span class=hljs-built_in >max</span>(dp[i][j] , dp[i - <span class=hljs-number >1</span>][((j - a[i]) % <span class=hljs-number >7</span> + <span class=hljs-number >7</span>) % <span class=hljs-number >7</span>] + a[i]);
            <span class=hljs-comment >//printf (&quot;%d %d %d\n&quot;,i , j , dp[i][j]);</span>
        }
 
    }
    <span class=hljs-built_in >printf</span> (<span class=hljs-string >&quot;%d\n&quot;</span>,dp[n][<span class=hljs-number >0</span>]);
}</code></pre> <ol start=4 > <li><p>给出长度为n的数组，求所有长度为奇数的子段的中位数之和。</p> </ol> <p>思路：两个优先队列动态维护中位数 复杂度<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy=false >(</mo><msup><mi>n</mi><mn>2</mn></msup><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">O(n^2\log n)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal">n</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mop >lo<span style="margin-right:0.01389em;">g</span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span><span class=mclose >)</span></span></span></span></p> <pre><code class="python hljs"><span class=hljs-keyword >from</span> heapq <span class=hljs-keyword >import</span> *

<span class=hljs-keyword >class</span> <span class="hljs-title class_">MedianFinder</span>:

    <span class=hljs-keyword >def</span> <span class="hljs-title function_">__init__</span>(<span class=hljs-params >self</span>):
        <span class=hljs-string >&quot;&quot;&quot;
        initialize your data structure here.
        &quot;&quot;&quot;</span>
        <span class="hljs-variable language_">self</span>.A = []  <span class=hljs-comment ># 小顶堆，保留较大的一半</span>
        <span class="hljs-variable language_">self</span>.B = []  <span class=hljs-comment ># 大顶堆，保留较小的一半</span>

    <span class=hljs-keyword >def</span> <span class="hljs-title function_">addNum</span>(<span class=hljs-params >self, num: <span class=hljs-built_in >int</span></span>) -&gt; <span class=hljs-literal >None</span>:
        <span class=hljs-keyword >if</span> <span class=hljs-built_in >len</span>(<span class="hljs-variable language_">self</span>.A) != <span class=hljs-built_in >len</span>(<span class="hljs-variable language_">self</span>.B):
            heappush(<span class="hljs-variable language_">self</span>.A, num)
            heappush(<span class="hljs-variable language_">self</span>.B, -heappop(<span class="hljs-variable language_">self</span>.A))
        <span class=hljs-keyword >else</span>:
            heappush(<span class="hljs-variable language_">self</span>.B, -num)
            heappush(<span class="hljs-variable language_">self</span>.A, -heappop(<span class="hljs-variable language_">self</span>.B))

    <span class=hljs-keyword >def</span> <span class="hljs-title function_">findMedian</span>(<span class=hljs-params >self</span>) -&gt; <span class=hljs-built_in >float</span>:
        <span class=hljs-keyword >return</span> <span class="hljs-variable language_">self</span>.A[<span class=hljs-number >0</span>] <span class=hljs-keyword >if</span> <span class=hljs-built_in >len</span>(<span class="hljs-variable language_">self</span>.A) != <span class=hljs-built_in >len</span>(<span class="hljs-variable language_">self</span>.B) <span class=hljs-keyword >else</span> (<span class="hljs-variable language_">self</span>.A[<span class=hljs-number >0</span>] - <span class="hljs-variable language_">self</span>.B[<span class=hljs-number >0</span>]) / <span class=hljs-number >2.0</span>

n = <span class=hljs-built_in >int</span>(<span class=hljs-built_in >input</span>())
nums = <span class=hljs-built_in >list</span>(<span class=hljs-built_in >map</span>(<span class=hljs-built_in >int</span>, <span class=hljs-built_in >input</span>().split()))

ans = <span class=hljs-number >0</span>

<span class=hljs-keyword >for</span> l <span class=hljs-keyword >in</span> <span class=hljs-built_in >range</span>(n):
    m = MedianFinder()
    m.addNum(nums[l])
    ans += m.findMedian()
    <span class=hljs-keyword >for</span> r <span class=hljs-keyword >in</span> <span class=hljs-built_in >range</span>(l + <span class=hljs-number >1</span>, n):
        m.addNum(nums[r])
        <span class=hljs-keyword >if</span> (r - l + <span class=hljs-number >1</span>)%<span class=hljs-number >2</span>:
            ans += m.findMedian()

<span class=hljs-built_in >print</span>(ans)</code></pre> <pre><code class="cpp hljs"><span class=hljs-meta >#<span class=hljs-keyword >include</span><span class=hljs-string >&lt;bits/stdc++.h&gt;</span></span>
<span class=hljs-keyword >using</span> <span class=hljs-keyword >namespace</span> std;
<span class=hljs-keyword >typedef</span> <span class=hljs-type >long</span> <span class=hljs-type >long</span> ll;
<span class=hljs-type >const</span> <span class=hljs-type >int</span> maxn= <span class=hljs-number >1e6</span><span class=hljs-number >+7</span> ;
<span class=hljs-type >const</span> <span class=hljs-type >int</span> inf = <span class=hljs-number >0x3f3f3f3f</span>;
<span class=hljs-type >int</span> n , a[maxn];
priority_queue&lt;<span class=hljs-type >int</span>&gt;q1,q2;
<span class=hljs-function ><span class=hljs-type >void</span> <span class=hljs-title >init</span><span class=hljs-params >()</span></span>{
    <span class=hljs-keyword >while</span>(q<span class=hljs-number >1.</span><span class=hljs-built_in >size</span>()) q<span class=hljs-number >1.</span><span class=hljs-built_in >pop</span>();
    <span class=hljs-keyword >while</span>(q<span class=hljs-number >2.</span><span class=hljs-built_in >size</span>()) q<span class=hljs-number >2.</span><span class=hljs-built_in >pop</span>();
}
<span class=hljs-function ><span class=hljs-type >void</span> <span class=hljs-title >add</span><span class=hljs-params >(<span class=hljs-type >int</span> now)</span></span>{
    <span class=hljs-keyword >if</span>(q<span class=hljs-number >2.</span><span class=hljs-built_in >size</span>() == <span class=hljs-number >0</span>){
        q<span class=hljs-number >2.</span><span class=hljs-built_in >push</span>(-now);
        <span class=hljs-keyword >return</span> ;
    }
    <span class=hljs-keyword >if</span>(now &gt;= -q<span class=hljs-number >2.</span><span class=hljs-built_in >top</span>()){
        q<span class=hljs-number >2.</span><span class=hljs-built_in >push</span>(-now);
        <span class=hljs-keyword >if</span>(q<span class=hljs-number >2.</span><span class=hljs-built_in >size</span>() &gt; q<span class=hljs-number >1.</span><span class=hljs-built_in >size</span>() + <span class=hljs-number >1</span>){
            <span class=hljs-type >int</span> x = q<span class=hljs-number >2.</span><span class=hljs-built_in >top</span>();
            q<span class=hljs-number >2.</span><span class=hljs-built_in >pop</span>();
            q<span class=hljs-number >1.</span><span class=hljs-built_in >push</span>(-x);
        }
    }
    <span class=hljs-keyword >else</span>{
        q<span class=hljs-number >1.</span><span class=hljs-built_in >push</span>(now);
 
        <span class=hljs-keyword >if</span>(q<span class=hljs-number >1.</span><span class=hljs-built_in >size</span>() &gt; q<span class=hljs-number >2.</span><span class=hljs-built_in >size</span>()){
            <span class=hljs-type >int</span> x = q<span class=hljs-number >1.</span><span class=hljs-built_in >top</span>();
            q<span class=hljs-number >1.</span><span class=hljs-built_in >pop</span>();
            q<span class=hljs-number >2.</span><span class=hljs-built_in >push</span>(-x);
        }
    }
}
<span class=hljs-function ><span class=hljs-type >int</span> <span class=hljs-title >main</span><span class=hljs-params >()</span></span>{
    <span class=hljs-built_in >scanf</span>(<span class=hljs-string >&quot;%d&quot;</span>,&amp;n);
    ll ans = <span class=hljs-number >0</span>;
    <span class=hljs-keyword >for</span>(<span class=hljs-type >int</span> i = <span class=hljs-number >1</span>; i &lt;= n; i ++){
        <span class=hljs-built_in >scanf</span>(<span class=hljs-string >&quot;%d&quot;</span>,&amp;a[i]);
        ans += a[i];
    }
    <span class=hljs-keyword >for</span>(<span class=hljs-type >int</span> l = <span class=hljs-number >1</span>; l &lt;= n; l ++){
        <span class=hljs-built_in >init</span>();
        <span class=hljs-built_in >add</span>(a[l]);
        <span class=hljs-keyword >for</span>(<span class=hljs-type >int</span> r = l + <span class=hljs-number >1</span>;r &lt;= n; r ++){
            <span class=hljs-built_in >add</span>(a[r]);
            <span class=hljs-keyword >if</span>((r - l + <span class=hljs-number >1</span>) % <span class=hljs-number >2</span>){
                ans -= q<span class=hljs-number >2.</span><span class=hljs-built_in >top</span>();
            }
        }
    }
    <span class=hljs-built_in >printf</span> (<span class=hljs-string >&quot;%lld\n&quot;</span>,ans);
}</code></pre> <ol start=5 > <li><p>有n个任务，完成每个任务需要的时间为l&#91;i&#93;l&#91;i&#93;,在完成该任务前，必须先完成一些前置任务，多个任务可以同时进行，问每个任务的最早完成时间。</p> </ol> <pre><code class="cpp hljs"><span class=hljs-meta >#<span class=hljs-keyword >include</span><span class=hljs-string >&lt;bits/stdc++.h&gt;</span></span>
<span class=hljs-keyword >using</span> <span class=hljs-keyword >namespace</span> std;
<span class=hljs-keyword >typedef</span> <span class=hljs-type >long</span> <span class=hljs-type >long</span> ll;
<span class=hljs-type >const</span> <span class=hljs-type >int</span> maxn= <span class=hljs-number >1e6</span><span class=hljs-number >+7</span> ;
<span class=hljs-type >const</span> <span class=hljs-type >int</span> inf = <span class=hljs-number >0x3f3f3f3f</span>;
<span class=hljs-type >int</span> n;
<span class=hljs-type >int</span> l[maxn] , now[maxn] , de[maxn],ans , vis[maxn];
vector&lt;<span class=hljs-type >int</span>&gt; vec[maxn] , e[maxn];
<span class=hljs-function ><span class=hljs-type >void</span> <span class=hljs-title >topo</span><span class=hljs-params >()</span></span>{
    queue&lt;<span class=hljs-type >int</span>&gt; que;
    <span class=hljs-keyword >for</span>(<span class=hljs-type >int</span> i = <span class=hljs-number >1</span>; i &lt;= n; i ++){
        <span class=hljs-keyword >if</span>(de[i] == <span class=hljs-number >0</span>){
            que.<span class=hljs-built_in >push</span>(i);
            vis[i] = <span class=hljs-number >1</span>;
            now[i] = now[i] + l[i];
        }
    }
    <span class=hljs-keyword >while</span>(que.<span class=hljs-built_in >size</span>()){
        <span class=hljs-type >int</span> u = que.<span class=hljs-built_in >front</span>();
        que.<span class=hljs-built_in >pop</span>();
        <span class=hljs-keyword >for</span>(<span class=hljs-type >int</span> i = <span class=hljs-number >0</span>; i &lt; e[u].<span class=hljs-built_in >size</span>(); i ++){
            <span class=hljs-type >int</span> to = e[u][i];
            de[to]--;
            now[to] = <span class=hljs-built_in >max</span>(now[to] , now[u]);
            <span class=hljs-keyword >if</span>(de[to] == <span class=hljs-number >0</span> &amp;&amp; vis[to] == <span class=hljs-number >0</span>){
                que.<span class=hljs-built_in >push</span>(to);
                vis[to] = <span class=hljs-number >1</span>;
                now[to] += l[to];
            }
        }
    }
}
<span class=hljs-function ><span class=hljs-type >int</span> <span class=hljs-title >main</span><span class=hljs-params >()</span></span>{
    <span class=hljs-built_in >scanf</span>(<span class=hljs-string >&quot;%d&quot;</span>,&amp;n);
    <span class=hljs-keyword >for</span>(<span class=hljs-type >int</span> i = <span class=hljs-number >1</span>; i &lt;= n; i ++){
        <span class=hljs-built_in >scanf</span>(<span class=hljs-string >&quot;%d&quot;</span>,&amp;l[i]);
        <span class=hljs-type >int</span> c , x;
        <span class=hljs-built_in >scanf</span>(<span class=hljs-string >&quot;%d&quot;</span>,&amp;c);
        de[i] = c;
        <span class=hljs-keyword >for</span>(<span class=hljs-type >int</span> j = <span class=hljs-number >1</span>; j &lt;= c; j ++){
            <span class=hljs-built_in >scanf</span>(<span class=hljs-string >&quot;%d&quot;</span>,&amp;x);
            vec[i].<span class=hljs-built_in >push_back</span>(x);
            e[x].<span class=hljs-built_in >push_back</span>(i);
        }
    }
    <span class=hljs-built_in >topo</span>();
    <span class=hljs-keyword >for</span>(<span class=hljs-type >int</span> i = <span class=hljs-number >1</span>; i &lt;= n; i ++){
        <span class=hljs-built_in >printf</span> (<span class=hljs-string >&quot;%d &quot;</span>,now[i]);
    }
}</code></pre> <h2 id="不定项选择题"><a href="#不定项选择题" class=header-anchor >不定项选择题</a></h2> <ul> <li><p>梯度下降与最速下降</p> </ul> <div class=page-foot > <div id=outerContainer  style="display: flex; justify-content: center; align-items: center; height: 20vh;"> <div id=mapContainer  style="width: 300px; height: 200px;"> <script type="text/javascript" id=mapmyvisitors  src="//mapmyvisitors.com/map.js?d=sUwpVOfz6zy023PVROxzxpuqzluKKdLhMk9d_LMF6Mo&cl=ffffff&w=a"> </script> </div> </div> <div class=copyright > &copy; Canyi Chen. Last modified: January 15, 2025. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. Icons by <a href="https://fontawesome.com/">Font Awesome</a>. <a href="https://github.com/canyi-chen"><i class="fa-brands fa-github-square"></i> Github</a>. <a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden=true ></i> Feed</a>. <a href="/posts"><i class="fa-solid fa-blog"></i> Blog</a>. </div> </div> </div> <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/highlight.min.js"></script> --> <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/js/all.min.js"></script>